diff -urN protoc-gen-validate-copy/validate/BUILD protoc-gen-validate/validate/BUILD
--- protoc-gen-validate-copy/validate/BUILD	2020-10-26 17:29:16.000000000 +1100
+++ protoc-gen-validate/validate/BUILD	2020-10-26 17:35:48.000000000 +1100
@@ -1,7 +1,7 @@
 # gazelle:exclude validate.pb.go

 load("@com_google_protobuf//:protobuf.bzl", "py_proto_library")
-load("@io_bazel_rules_go//proto:def.bzl", "go_proto_library")
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
 load("@rules_cc//cc:defs.bzl", "cc_library", "cc_proto_library")
 load("@rules_java//java:defs.bzl", "java_proto_library")
 load("@rules_proto//proto:defs.bzl", "proto_library")
@@ -32,11 +32,19 @@
     deps = ["@com_google_protobuf//:protobuf_python"],
 )

-go_proto_library(
+go_library(
     name = "go_default_library",
+    srcs = [
+        "validate.pb.go",
+    ],
     importpath = "github.com/envoyproxy/protoc-gen-validate/validate",
-    proto = ":validate_proto",
     visibility = ["//visibility:public"],
+    deps = [
+        "@com_github_golang_protobuf//proto:go_default_library",
+        "@com_github_golang_protobuf//protoc-gen-go/descriptor:go_default_library",
+        "@com_github_golang_protobuf//ptypes/duration:go_default_library",
+        "@com_github_golang_protobuf//ptypes/timestamp:go_default_library",
+    ],
 )

 cc_library(
